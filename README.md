# TiLern TTS Service (Piper)

–í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–µ–º–µ—Ü–∫–æ–π —Ä–µ—á–∏ –Ω–∞ –±–∞–∑–µ **Piper TTS** –∏ **FFmpeg**. –°–µ—Ä–≤–∏—Å —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã TiLern –∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞—É–¥–∏–æ (Streaming) –≤ —Ñ–æ—Ä–º–∞—Ç–µ MP3.

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Å—Ç–∞—Ä—Ç:** –ê—É–¥–∏–æ –Ω–∞—á–∏–Ω–∞–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è —Å—Ä–∞–∑—É, –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å –æ–∫–æ–Ω—á–∞–Ω–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤—Å–µ–≥–æ —Ç–µ–∫—Å—Ç–∞.
- **Docker-native:** –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `shared_network`.
- **–≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏:** –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–¥–µ—Ç —á–µ—Ä–µ–∑ –ø–æ—Ç–æ–∫–∏ (streams) –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –Ω–∞ –¥–∏—Å–∫–µ.
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –≥–æ–ª–æ—Å–æ–≤:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞ —Å –º–æ–¥–µ–ª—è–º–∏ Piper `.onnx`.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Node.js + Express** (Backend)
- **Piper TTS** (–ì–æ–ª–æ—Å–æ–≤–æ–π –¥–≤–∏–∂–æ–∫)
- **FFmpeg** (–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ MP3 "–Ω–∞ –ª–µ—Ç—É")
- **TypeScript**

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ (–≤ —Å–æ—Å—Ç–∞–≤–µ TiLern)

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–æ–¥–µ–ª–µ–π

–ü–æ–º–µ—Å—Ç–∏—Ç–µ –≤–∞—à–∏ –º–æ–¥–µ–ª–∏ Piper –≤ –ø–∞–ø–∫—É `./models/de/`. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–ª–µ–¥—É—é—â–µ–π:

```text
models/de/
‚îú‚îÄ‚îÄ karlsson-low/
‚îÇ   ‚îú‚îÄ‚îÄ model.onnx
‚îÇ   ‚îî‚îÄ‚îÄ model.onnx.json
‚îú‚îÄ‚îÄ thorsten-high/
‚îÇ   ‚îú‚îÄ‚îÄ model.onnx
‚îÇ   ‚îî‚îÄ‚îÄ model.onnx.json
```

````

### 2. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

–°–µ—Ä–≤–∏—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Ä–∞–±–æ—Ç—É –≤ –æ–±—â–µ–π —Å–µ—Ç–∏ `shared_network`.

```bash
docker compose up -d --build

```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∏ –ø–æ –∞–¥—Ä–µ—Å—É `http://tts_tilern:8400`, –∞ —Å–Ω–∞—Ä—É–∂–∏ ‚Äî —á–µ—Ä–µ–∑ `http://localhost:8400`.

## üîå API –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ—á–∏ (TTS)

**Endpoint:** `POST /tts`

**Payload:**

```json
{
  "text": "Hallo! Wie geht es dir?",
  "voice": "karlsson-low"
}
```

**–û—Ç–≤–µ—Ç:** –ë–∏–Ω–∞—Ä–Ω—ã–π –ø–æ—Ç–æ–∫ `audio/mpeg`.

## üñ• –¢–µ—Å—Ç–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–°–µ—Ä–≤–∏—Å –≤–∫–ª—é—á–∞–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É. –ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: [http://localhost:8400](https://www.google.com/search?q=http://localhost:8400)

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥—ã (Environment)

–°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ä–µ–¥—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (Windows –∏–ª–∏ Linux/Docker) –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø—É—Ç–∏ –∫ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º —Ñ–∞–π–ª–∞–º:

- **Windows:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `C:\piper\piper.exe`.
- **Docker:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–Ω–∞—Ä–Ω–∏–∫ –≤ `/usr/bin/piper`.

---

¬© 2026 TiLern Project.
````
